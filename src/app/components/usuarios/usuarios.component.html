<div class="user-management-container">
    <h2>Gerenciamento de Usuários</h2>

    <!-- Formulário de criação e edição -->
    <div class="user-form">
        <h3>{{ isEditing ? 'Editar Usuário' : 'Criar Novo Usuário' }}</h3>
        <form (ngSubmit)="isEditing ? updateUser() : createUser()">
            <label for="name">Nome</label>
            <input type="text" id="name" [(ngModel)]="userForm.name" name="name" required>

            <label for="email">E-mail</label>
            <input type="email" id="email" [(ngModel)]="userForm.email" name="email" required>

            <label for="password">Senha</label>
            <input type="password" id="password" [(ngModel)]="userForm.password" name="password" required>

            <label for="role">Função</label>
            <select id="role" [(ngModel)]="userForm.role" name="role" required>
                <option value="admin">Administrador</option>
                <option value="coordenador">Coordenador</option>
                <option value="supervisor">Supervisor</option>
                <option value="analista">Analista</option>
            </select>

            <button type="submit">{{ isEditing ? 'Atualizar' : 'Criar' }} Usuário</button>
            <button type="button" (click)="resetForm()">Cancelar</button>
        </form>
    </div>

    <!-- Lista de usuários -->
    <div class="user-list">
        <h3>Lista de Usuários</h3>
        <ul>
            <li *ngFor="let usuario of usuarios">
                <span>{{ usuario.nome }} - {{ usuario.email }} - {{ usuario.role }}</span>
                <button (click)="editUser(usuario)">Editar</button>
                <button (click)="deleteUser(usuario.id)">Excluir</button>
            </li>
        </ul>
    </div>
</div>